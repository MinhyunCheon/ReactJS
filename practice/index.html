<!DOCTYPE html>
<html>
    <body>
        <div id="root"></div>
    </body>
    <!-- 어플리케이션의 상호작용을 만드는 엔진 -->
    <script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
    <!-- React element들을 HTML body에 담을 수 있도록 돕는 package -->
    <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
    <!-- JSX 형식의 문법을 브라우저가 기본적으로 이해하지 못하기 때문에 Babel을 통해 변환 -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
        function TimeConverter() {
            const [amount, setAmount] = React.useState(0);
            const [inverted, setInverted] = React.useState(false);
            const reset = () => setAmount(0);
            return (
                <div>
                    <div>
                        <label htmlFor="amount">amount</label>
                        <input
                            id="amount"
                            placeholder="amount"
                            type="number"
                            disabled={inverted}
                            value={!inverted ? amount : amount * 60}
                            onChange={e => setAmount(e.target.value)}
                        />
                    </div>
                    <div>
                        <label htmlFor="hours">hours</label>
                        <input
                            id="hours"
                            placeholder="Hours"
                            type="number"
                            disabled={!inverted}
                            value={!inverted ? amount / 60 : amount}
                            onChange={e => setAmount(e.target.value)}
                        />
                    </div>
                    <button onClick={reset}>Reset</button>
                    <button onClick={() => {
                            reset();
                            setInverted(f => !f);
                        }
                    }>{!inverted ? "Invert" : "Turn back"}</button>
                </div>
            );
        }
        function DistanceConverter() {
            const [distence, setDistence] = React.useState(0);
            const [inverted, setInverted] = React.useState(false);
            const reset = () => setDistence(0);
            return (
                <div>
                    <div>
                        <div>
                            <label htmlFor="km">Km</label>
                            <input
                                id="km"
                                placeholder="km"
                                type="number"
                                disabled={inverted}
                                value={!inverted? distence : distence * 1.609344}
                                onChange={e => setDistence(e.target.value)}
                            />
                        </div>
                        <div>
                            <label htmlFor="mlies">Miles</label>
                            <input
                                id="mlies"
                                placeholder="mlies"
                                type="number"
                                disabled={!inverted}
                                value={!inverted? distence / 1.609344 : distence}
                                onChange={e => setDistence(e.target.value)}
                            />
                        </div>
                    </div>
                    <button onClick={reset}>Reset</button>
                    <button onClick={() => {
                            reset();
                            setInverted(f => !f);
                        }
                    }>{!inverted ? "Invert" : "Turn back"}</button>
                </div>
            );
        }
        const App = () => {
            const [index, setIndex] = React.useState("0");
            return (
                <div>
                    <h1>Super Converter</h1>
                    <select onChange={e => setIndex(e.target.value)}>
                        <option value="0">Minutes & Hours</option>    
                        <option value="1">Km & Miles</option>
                    </select>
                    <hr />
                    {
                        {
                            "0": <TimeConverter />,
                            "1": <DistanceConverter />
                        }[index]
                    }
                </div>
            );
        }
        ReactDOM.render(<App />, document.getElementById("root"));
    </script>
</html>